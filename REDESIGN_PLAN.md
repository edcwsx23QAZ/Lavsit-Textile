# –ü–ª–∞–Ω –ø–æ–ª–Ω–æ–≥–æ —Ä–µ–¥–∏–∑–∞–π–Ω–∞ Lavsit Textile

## üìã –ê–Ω–∞–ª–∏–∑ —Ç–µ–∫—É—â–µ–≥–æ —Å–æ—Å—Ç–æ—è–Ω–∏—è

### –ü—Ä–æ–±–ª–µ–º—ã
1. **–ë–µ—Å–∫–æ–Ω–µ—á–Ω–∞—è –∑–∞–≥—Ä—É–∑–∫–∞** - —Å—Ç—Ä–∞–Ω–∏—Ü—ã –∑–∞–≤–∏—Å–∞—é—Ç –Ω–∞ "–ó–∞–≥—Ä—É–∑–∫–∞ –¥–∞–Ω–Ω—ã—Ö..."
2. **–°–ª–æ–∂–Ω–∞—è –∞—Ä—Ö–∏—Ç–µ–∫—Ç—É—Ä–∞** - –º–Ω–æ–∂–µ—Å—Ç–≤–µ–Ω–Ω—ã–µ —Å–ª–æ–∏ –∫—ç—à–∏—Ä–æ–≤–∞–Ω–∏—è (IndexedDB, localStorage, —Å–µ—Ä–≤–µ—Ä–Ω—ã–π –∫—ç—à)
3. **–ú–µ–¥–ª–µ–Ω–Ω–∞—è —Ä–∞–±–æ—Ç–∞ –ë–î** - SQLite –±–µ–∑ –æ–ø—Ç–∏–º–∏–∑–∞—Ü–∏–∏
4. **–£—Å—Ç–∞—Ä–µ–≤—à–∏–π UI** - –Ω—É–∂–Ω–æ –æ–±–Ω–æ–≤–∏—Ç—å –≤–∏–∑—É–∞–ª—å–Ω—É—é —á–∞—Å—Ç—å
5. **–°–ª–æ–∂–Ω–∞—è –ª–æ–≥–∏–∫–∞ –∑–∞–≥—Ä—É–∑–∫–∏** - –∫–æ–Ω—Ç–µ–∫—Å—Ç—ã, –ø—Ä–æ–≤–∞–π–¥–µ—Ä—ã, –º–Ω–æ–∂–µ—Å—Ç–≤–µ–Ω–Ω—ã–µ —Å–æ—Å—Ç–æ—è–Ω–∏—è

### –ß—Ç–æ —Å–æ—Ö—Ä–∞–Ω—è–µ–º
- ‚úÖ **–í—Å–µ –ø–∞—Ä—Å–µ—Ä—ã** (`lib/parsers/*`) - BaseParser –∏ –≤—Å–µ —Ä–µ–∞–ª–∏–∑–∞—Ü–∏–∏
- ‚úÖ **–ü—Ä–∞–≤–∏–ª–∞ –ø–∞—Ä—Å–∏–Ω–≥–∞** - ParsingRule, DataStructure –º–æ–¥–µ–ª–∏
- ‚úÖ **–õ–æ–≥–∏–∫—É –ø–∞—Ä—Å–∏–Ω–≥–∞** - –≤—Å–µ –º–µ—Ç–æ–¥—ã parse(), analyze(), saveRules(), loadRules()
- ‚úÖ **–°—Ç—Ä—É–∫—Ç—É—Ä—É –¥–∞–Ω–Ω—ã—Ö** - –º–æ–¥–µ–ª–∏ Fabric, Supplier, FabricCategory –∏ —Ç.–¥.

---

## üéØ –¶–µ–ª—å —Ä–µ–¥–∏–∑–∞–π–Ω–∞

–°–æ–∑–¥–∞—Ç—å –±—ã—Å—Ç—Ä–æ–µ, –ø—Ä–æ—Å—Ç–æ–µ –∏ –Ω–∞–¥–µ–∂–Ω–æ–µ –ø—Ä–∏–ª–æ–∂–µ–Ω–∏–µ —Å:
- **–ú–≥–Ω–æ–≤–µ–Ω–Ω–æ–π –∑–∞–≥—Ä—É–∑–∫–æ–π** –¥–∞–Ω–Ω—ã—Ö (< 1 —Å–µ–∫—É–Ω–¥–∞)
- **–ü—Ä–æ—Å—Ç–æ–π –∞—Ä—Ö–∏—Ç–µ–∫—Ç—É—Ä–æ–π** - –º–∏–Ω–∏–º—É–º —Å–ª–æ–µ–≤, –ø—Ä—è–º–∞—è —Ä–∞–±–æ—Ç–∞ —Å –ë–î
- **–°–æ–≤—Ä–µ–º–µ–Ω–Ω—ã–º UI** - —á–∏—Å—Ç—ã–π, –∏–Ω—Ç—É–∏—Ç–∏–≤–Ω—ã–π –∏–Ω—Ç–µ—Ä—Ñ–µ–π—Å
- **–û–ø—Ç–∏–º–∏–∑–∏—Ä–æ–≤–∞–Ω–Ω–æ–π –ë–î** - –±—ã—Å—Ç—Ä—ã–µ –∑–∞–ø—Ä–æ—Å—ã, –ø—Ä–∞–≤–∏–ª—å–Ω—ã–µ –∏–Ω–¥–µ–∫—Å—ã

---

## üìê –ê—Ä—Ö–∏—Ç–µ–∫—Ç—É—Ä–∞ —Ä–µ—à–µ–Ω–∏—è

### –ë—ç–∫–µ–Ω–¥ (Server-side)

#### 1. –û–ø—Ç–∏–º–∏–∑–∞—Ü–∏—è –ë–î (SQLite)
```
lib/db/prisma.ts (–Ω–æ–≤—ã–π)
‚îú‚îÄ‚îÄ –ü—Ä–æ—Å—Ç–∞—è –∏–Ω–∏—Ü–∏–∞–ª–∏–∑–∞—Ü–∏—è Prisma Client
‚îú‚îÄ‚îÄ WAL mode –≤–∫–ª—é—á–µ–Ω –ø–æ —É–º–æ–ª—á–∞–Ω–∏—é
‚îú‚îÄ‚îÄ –û–ø—Ç–∏–º–∞–ª—å–Ω—ã–µ PRAGMA –Ω–∞—Å—Ç—Ä–æ–π–∫–∏
‚îî‚îÄ‚îÄ Connection pooling (–µ—Å–ª–∏ –Ω—É–∂–Ω–æ)
```

#### 2. API Endpoints (—É–ø—Ä–æ—â–µ–Ω–Ω—ã–µ)
```
app/api/
‚îú‚îÄ‚îÄ fabrics/
‚îÇ   ‚îî‚îÄ‚îÄ route.ts          - –ü—Ä–æ—Å—Ç–æ–π GET, –ø—Ä—è–º–∞—è –∑–∞–≥—Ä—É–∑–∫–∞ –∏–∑ –ë–î
‚îú‚îÄ‚îÄ suppliers/
‚îÇ   ‚îî‚îÄ‚îÄ route.ts          - –ü—Ä–æ—Å—Ç–æ–π GET, –ø—Ä—è–º–∞—è –∑–∞–≥—Ä—É–∑–∫–∞ –∏–∑ –ë–î
‚îú‚îÄ‚îÄ categories/
‚îÇ   ‚îî‚îÄ‚îÄ route.ts          - –ü—Ä–æ—Å—Ç–æ–π GET, –ø—Ä—è–º–∞—è –∑–∞–≥—Ä—É–∑–∫–∞ –∏–∑ –ë–î
‚îî‚îÄ‚îÄ suppliers/[id]/
    ‚îú‚îÄ‚îÄ parse/
    ‚îÇ   ‚îî‚îÄ‚îÄ route.ts      - –ò—Å–ø–æ–ª—å–∑—É–µ—Ç –ø–∞—Ä—Å–µ—Ä—ã (—Å–æ—Ö—Ä–∞–Ω—è–µ–º)
    ‚îî‚îÄ‚îÄ rules/
        ‚îî‚îÄ‚îÄ route.ts      - –†–∞–±–æ—Ç–∞ —Å –ø—Ä–∞–≤–∏–ª–∞–º–∏ –ø–∞—Ä—Å–∏–Ω–≥–∞ (—Å–æ—Ö—Ä–∞–Ω—è–µ–º)
```

**–ü—Ä–∏–Ω—Ü–∏–ø—ã:**
- –ù–ï–¢ —Å–µ—Ä–≤–µ—Ä–Ω–æ–≥–æ –∫—ç—à–∏—Ä–æ–≤–∞–Ω–∏—è (–∫—ç—à —Ç–æ–ª—å–∫–æ –≤ –±—Ä–∞—É–∑–µ—Ä–µ —á–µ—Ä–µ–∑ Next.js)
- –ü—Ä—è–º—ã–µ –∑–∞–ø—Ä–æ—Å—ã –∫ –ë–î
- –ú–∏–Ω–∏–º—É–º –ª–æ–≥–∏–∫–∏, –º–∞–∫—Å–∏–º—É–º –ø—Ä–æ–∏–∑–≤–æ–¥–∏—Ç–µ–ª—å–Ω–æ—Å—Ç–∏
- –¢–∞–π–º–∞—É—Ç—ã –¥–ª—è –ø—Ä–µ–¥–æ—Ç–≤—Ä–∞—â–µ–Ω–∏—è –∑–∞–≤–∏—Å–∞–Ω–∏–π

### –§—Ä–æ–Ω—Ç–µ–Ω–¥ (Client-side)

#### 1. Server Components (Next.js 14 App Router)
```
app/
‚îú‚îÄ‚îÄ layout.tsx            - Root layout —Å –Ω–∞–≤–∏–≥–∞—Ü–∏–µ–π
‚îú‚îÄ‚îÄ page.tsx              - –ì–ª–∞–≤–Ω–∞—è —Å—Ç—Ä–∞–Ω–∏—Ü–∞ (Server Component)
‚îú‚îÄ‚îÄ fabrics/
‚îÇ   ‚îî‚îÄ‚îÄ page.tsx          - Server Component —Å –ø—Ä—è–º–æ–π –∑–∞–≥—Ä—É–∑–∫–æ–π
‚îú‚îÄ‚îÄ suppliers/
‚îÇ   ‚îî‚îÄ‚îÄ page.tsx          - Server Component —Å –ø—Ä—è–º–æ–π –∑–∞–≥—Ä—É–∑–∫–æ–π
‚îî‚îÄ‚îÄ categories/
    ‚îî‚îÄ‚îÄ page.tsx          - Server Component —Å –ø—Ä—è–º–æ–π –∑–∞–≥—Ä—É–∑–∫–æ–π
```

**–ü—Ä–∏–Ω—Ü–∏–ø—ã:**
- –ò—Å–ø–æ–ª—å–∑—É–µ–º Server Components –¥–ª—è –∑–∞–≥—Ä—É–∑–∫–∏ –¥–∞–Ω–Ω—ã—Ö
- Client Components —Ç–æ–ª—å–∫–æ –¥–ª—è –∏–Ω—Ç–µ—Ä–∞–∫—Ç–∏–≤–Ω–æ—Å—Ç–∏
- –ù–ï–¢ React Context –¥–ª—è –¥–∞–Ω–Ω—ã—Ö
- –ù–ï–¢ IndexedDB/localStorage –∫—ç—à–∏—Ä–æ–≤–∞–Ω–∏—è

#### 2. –ö–æ–º–ø–æ–Ω–µ–Ω—Ç—ã
```
components/
‚îú‚îÄ‚îÄ ui/                   - shadcn/ui –∫–æ–º–ø–æ–Ω–µ–Ω—Ç—ã (–æ–±–Ω–æ–≤–ª—è–µ–º —Å—Ç–∏–ª–∏)
‚îú‚îÄ‚îÄ fabrics/
‚îÇ   ‚îú‚îÄ‚îÄ FabricsTable.tsx  - –¢–∞–±–ª–∏—Ü–∞ —Ç–∫–∞–Ω–µ–π (Client Component)
‚îÇ   ‚îî‚îÄ‚îÄ FabricFilters.tsx - –§–∏–ª—å—Ç—Ä—ã (Client Component)
‚îî‚îÄ‚îÄ suppliers/
    ‚îî‚îÄ‚îÄ SuppliersList.tsx - –°–ø–∏—Å–æ–∫ –ø–æ—Å—Ç–∞–≤—â–∏–∫–æ–≤ (Client Component)
```

---

## üóÑÔ∏è –ë–∞–∑–∞ –¥–∞–Ω–Ω—ã—Ö

### –û–ø—Ç–∏–º–∏–∑–∞—Ü–∏—è SQLite

1. **Connection String** (–æ–±–Ω–æ–≤–∏—Ç—å)
```prisma
datasource db {
  provider = "sqlite"
  url      = "file:./dev.db?journal_mode=WAL&busy_timeout=5000&synchronous=NORMAL&cache_size=-2000"
}
```

2. **–ò–Ω–¥–µ–∫—Å—ã** (–ø—Ä–æ–≤–µ—Ä–∏—Ç—å –∏ –æ–ø—Ç–∏–º–∏–∑–∏—Ä–æ–≤–∞—Ç—å)
- –£–±–µ–¥–∏—Ç—å—Å—è —á—Ç–æ –≤—Å–µ –∏–Ω–¥–µ–∫—Å—ã –∏—Å–ø–æ–ª—å–∑—É—é—Ç—Å—è
- –°–æ—Å—Ç–∞–≤–Ω—ã–µ –∏–Ω–¥–µ–∫—Å—ã –¥–ª—è —á–∞—Å—Ç—ã—Ö –∑–∞–ø—Ä–æ—Å–æ–≤
- –ò–Ω–¥–µ–∫—Å—ã –¥–ª—è —Ñ–∏–ª—å—Ç—Ä–∞—Ü–∏–∏ (excludedFromParsing, inStock)

3. **PRAGMA –Ω–∞—Å—Ç—Ä–æ–π–∫–∏**
- `journal_mode=WAL` - –¥–ª—è –ø–∞—Ä–∞–ª–ª–µ–ª—å–Ω—ã—Ö —á—Ç–µ–Ω–∏–π
- `busy_timeout=5000` - –ø—Ä–µ–¥–æ—Ç–≤—Ä–∞—â–µ–Ω–∏–µ –±–ª–æ–∫–∏—Ä–æ–≤–æ–∫
- `synchronous=NORMAL` - –±–∞–ª–∞–Ω—Å –ø—Ä–æ–∏–∑–≤–æ–¥–∏—Ç–µ–ª—å–Ω–æ—Å—Ç–∏/–±–µ–∑–æ–ø–∞—Å–Ω–æ—Å—Ç–∏
- `cache_size=-2000` - 8MB –∫—ç—à

---

## üé® –í–∏–∑—É–∞–ª—å–Ω—ã–π –¥–∏–∑–∞–π–Ω

### –¶–≤–µ—Ç–æ–≤–∞—è —Å—Ö–µ–º–∞
- **–û—Å–Ω–æ–≤–Ω–æ–π**: –°–æ–≤—Ä–µ–º–µ–Ω–Ω—ã–µ –Ω–µ–π—Ç—Ä–∞–ª—å–Ω—ã–µ —Ç–æ–Ω–∞
- **–ê–∫—Ü–µ–Ω—Ç**: –°–∏–Ω–∏–π (#3B82F6) –¥–ª—è –∫–Ω–æ–ø–æ–∫ –∏ —Å—Å—ã–ª–æ–∫
- **–§–æ–Ω**: –°–≤–µ—Ç–ª—ã–π (#FAFAFA) –¥–ª—è –æ—Å–Ω–æ–≤–Ω–æ–≥–æ —Ñ–æ–Ω–∞
- **–¢–µ–∫—Å—Ç**: –¢–µ–º–Ω–æ-—Å–µ—Ä—ã–π (#1F2937) –¥–ª—è –æ—Å–Ω–æ–≤–Ω–æ–≥–æ —Ç–µ–∫—Å—Ç–∞

### –ö–æ–º–ø–æ–Ω–µ–Ω—Ç—ã UI
1. **–ù–∞–≤–∏–≥–∞—Ü–∏—è**
   - –ì–æ—Ä–∏–∑–æ–Ω—Ç–∞–ª—å–Ω–æ–µ –º–µ–Ω—é –≤ header
   - –ê–∫—Ç–∏–≤–Ω–∞—è —Å—Å—ã–ª–∫–∞ –≤—ã–¥–µ–ª–µ–Ω–∞
   - –ò–∫–æ–Ω–∫–∏ –¥–ª—è –∫–∞–∂–¥–æ–≥–æ –ø—É–Ω–∫—Ç–∞

2. **–¢–∞–±–ª–∏—Ü—ã**
   - –°–æ–≤—Ä–µ–º–µ–Ω–Ω—ã–π –¥–∏–∑–∞–π–Ω —Å —á–µ—Ç–∫–∏–º–∏ –≥—Ä–∞–Ω–∏—Ü–∞–º–∏
   - Hover —ç—Ñ—Ñ–µ–∫—Ç—ã
   - –ê–¥–∞–ø—Ç–∏–≤–Ω–∞—è –ø—Ä–æ–∫—Ä—É—Ç–∫–∞

3. **–ö–∞—Ä—Ç–æ—á–∫–∏**
   - –°–∫—Ä—É–≥–ª–µ–Ω–Ω—ã–µ —É–≥–ª—ã
   - –¢–µ–Ω–∏ –¥–ª—è –≥–ª—É–±–∏–Ω—ã
   - –ß–µ—Ç–∫–∞—è –∏–µ—Ä–∞—Ä—Ö–∏—è –∏–Ω—Ñ–æ—Ä–º–∞—Ü–∏–∏

4. **–ö–Ω–æ–ø–∫–∏ –∏ –¥–µ–π—Å—Ç–≤–∏—è**
   - –ß–µ—Ç–∫–∏–µ call-to-action –∫–Ω–æ–ø–∫–∏
   - –ò–∫–æ–Ω–∫–∏ —Ä—è–¥–æ–º —Å —Ç–µ–∫—Å—Ç–æ–º
   - –°–æ—Å—Ç–æ—è–Ω–∏—è: default, hover, active, disabled

---

## üìù –î–µ—Ç–∞–ª—å–Ω—ã–π –ø–ª–∞–Ω —Ä–µ–∞–ª–∏–∑–∞—Ü–∏–∏

### –≠—Ç–∞–ø 1: –ë–∞–∑–∞ –¥–∞–Ω–Ω—ã—Ö –∏ –ø–æ–¥–∫–ª—é—á–µ–Ω–∏–µ (1-2 —á–∞—Å–∞)

#### 1.1 –û–±–Ω–æ–≤–∏—Ç—å Prisma Client
- [ ] –°–æ–∑–¥–∞—Ç—å `lib/db/prisma.ts` —Å –ø—Ä–æ—Å—Ç–æ–π –∏–Ω–∏—Ü–∏–∞–ª–∏–∑–∞—Ü–∏–µ–π
- [ ] –£–±—Ä–∞—Ç—å —Å–ª–æ–∂–Ω—É—é –ª–æ–≥–∏–∫—É –∏–Ω–∏—Ü–∏–∞–ª–∏–∑–∞—Ü–∏–∏
- [ ] –í–∫–ª—é—á–∏—Ç—å WAL mode —á–µ—Ä–µ–∑ connection string
- [ ] –£–±—Ä–∞—Ç—å –≤—Å–µ PRAGMA –∫–æ–º–∞–Ω–¥—ã (–¥–µ–ª–∞–µ–º —á–µ—Ä–µ–∑ connection string)

#### 1.2 –ü—Ä–æ–≤–µ—Ä–∏—Ç—å —Å—Ö–µ–º—É –ë–î
- [ ] –£–±–µ–¥–∏—Ç—å—Å—è —á—Ç–æ –≤—Å–µ –∏–Ω–¥–µ–∫—Å—ã –∞–∫—Ç—É–∞–ª—å–Ω—ã
- [ ] –ü—Ä–æ–≤–µ—Ä–∏—Ç—å —á—Ç–æ –∏–Ω–¥–µ–∫—Å—ã –∏—Å–ø–æ–ª—å–∑—É—é—Ç—Å—è –≤ –∑–∞–ø—Ä–æ—Å–∞—Ö
- [ ] –ü—Ä–∏ –Ω–µ–æ–±—Ö–æ–¥–∏–º–æ—Å—Ç–∏ –¥–æ–±–∞–≤–∏—Ç—å –Ω–µ–¥–æ—Å—Ç–∞—é—â–∏–µ –∏–Ω–¥–µ–∫—Å—ã

#### 1.3 –¢–µ—Å—Ç–∏—Ä–æ–≤–∞–Ω–∏–µ –ë–î
- [ ] –ü—Ä–æ–≤–µ—Ä–∏—Ç—å —Å–∫–æ—Ä–æ—Å—Ç—å –ø—Ä–æ—Å—Ç—ã—Ö –∑–∞–ø—Ä–æ—Å–æ–≤
- [ ] –£–±–µ–¥–∏—Ç—å—Å—è —á—Ç–æ –Ω–µ—Ç –±–ª–æ–∫–∏—Ä–æ–≤–æ–∫
- [ ] –ü—Ä–æ–≤–µ—Ä–∏—Ç—å —á—Ç–æ WAL mode —Ä–∞–±–æ—Ç–∞–µ—Ç

---

### –≠—Ç–∞–ø 2: API Endpoints (2-3 —á–∞—Å–∞)

#### 2.1 `/api/fabrics`
- [ ] –ü–æ–ª–Ω–æ—Å—Ç—å—é –ø–µ—Ä–µ–ø–∏—Å–∞—Ç—å route.ts
- [ ] –ü—Ä–æ—Å—Ç–æ–π GET –∑–∞–ø—Ä–æ—Å –∫ Prisma
- [ ] –ú–∏–Ω–∏–º—É–º –ª–æ–≥–∏–∫–∏, –º–∞–∫—Å–∏–º—É–º –ø—Ä–æ–∏–∑–≤–æ–¥–∏—Ç–µ–ª—å–Ω–æ—Å—Ç–∏
- [ ] –í—ã—á–∏—Å–ª–µ–Ω–∏—è pricePerMeter –∏ category –Ω–∞ —Å–µ—Ä–≤–µ—Ä–µ
- [ ] –£–±—Ä–∞—Ç—å –≤—Å–µ –∫—ç—à–∏—Ä–æ–≤–∞–Ω–∏–µ
- [ ] –î–æ–±–∞–≤–∏—Ç—å –ø—Ä–æ—Å—Ç—É—é –æ–±—Ä–∞–±–æ—Ç–∫—É –æ—à–∏–±–æ–∫

#### 2.2 `/api/suppliers`
- [ ] –ü–æ–ª–Ω–æ—Å—Ç—å—é –ø–µ—Ä–µ–ø–∏—Å–∞—Ç—å route.ts
- [ ] –ü—Ä–æ—Å—Ç–æ–π GET –∑–∞–ø—Ä–æ—Å –∫ Prisma
- [ ] –í–∫–ª—é—á–∏—Ç—å —Å—á–µ—Ç—á–∏–∫ —Ç–∫–∞–Ω–µ–π (_count)
- [ ] –£–±—Ä–∞—Ç—å –≤—Å–µ –∫—ç—à–∏—Ä–æ–≤–∞–Ω–∏–µ

#### 2.3 `/api/categories`
- [ ] –ü–æ–ª–Ω–æ—Å—Ç—å—é –ø–µ—Ä–µ–ø–∏—Å–∞—Ç—å route.ts
- [ ] –ü—Ä–æ—Å—Ç–æ–π GET –∑–∞–ø—Ä–æ—Å –∫ Prisma
- [ ] –ò–Ω–∏—Ü–∏–∞–ª–∏–∑–∞—Ü–∏—è DEFAULT_CATEGORIES –µ—Å–ª–∏ –Ω—É–∂–Ω–æ

#### 2.4 Endpoints –¥–ª—è –ø–∞—Ä—Å–∏–Ω–≥–∞ (—Å–æ—Ö—Ä–∞–Ω—è–µ–º)
- [ ] `/api/suppliers/[id]/parse` - –æ—Å—Ç–∞–≤–ª—è–µ–º –∫–∞–∫ –µ—Å—Ç—å
- [ ] `/api/suppliers/[id]/rules` - –æ—Å—Ç–∞–≤–ª—è–µ–º –∫–∞–∫ –µ—Å—Ç—å
- [ ] `/api/suppliers/[id]/analyze` - –æ—Å—Ç–∞–≤–ª—è–µ–º –∫–∞–∫ –µ—Å—Ç—å

---

### –≠—Ç–∞–ø 3: –§—Ä–æ–Ω—Ç–µ–Ω–¥ - Server Components (3-4 —á–∞—Å–∞)

#### 3.1 –ì–ª–∞–≤–Ω–∞—è —Å—Ç—Ä–∞–Ω–∏—Ü–∞ (`app/page.tsx`)
- [ ] Server Component
- [ ] –ü—Ä—è–º–∞—è –∑–∞–≥—Ä—É–∑–∫–∞ –¥–∞–Ω–Ω—ã—Ö —á–µ—Ä–µ–∑ fetch
- [ ] –ö—Ä–∞—Å–∏–≤–∞—è —Å—Ç–∞—Ç–∏—Å—Ç–∏–∫–∞ (–∫–æ–ª–∏—á–µ—Å—Ç–≤–æ —Ç–∫–∞–Ω–µ–π, –ø–æ—Å—Ç–∞–≤—â–∏–∫–æ–≤)
- [ ] –ë—ã—Å—Ç—Ä—ã–µ —Å—Å—ã–ª–∫–∏ –Ω–∞ –æ—Å–Ω–æ–≤–Ω—ã–µ —Ä–∞–∑–¥–µ–ª—ã

#### 3.2 –°—Ç—Ä–∞–Ω–∏—Ü–∞ —Ç–∫–∞–Ω–µ–π (`app/fabrics/page.tsx`)
- [ ] Server Component –¥–ª—è –Ω–∞—á–∞–ª—å–Ω–æ–π –∑–∞–≥—Ä—É–∑–∫–∏
- [ ] –†–∞–∑–¥–µ–ª–∏—Ç—å –Ω–∞ Server Component (–¥–∞–Ω–Ω—ã–µ) + Client Component (—Ç–∞–±–ª–∏—Ü–∞)
- [ ] –ö–æ–º–ø–æ–Ω–µ–Ω—Ç `components/fabrics/FabricsTable.tsx` –¥–ª—è —Ç–∞–±–ª–∏—Ü—ã
- [ ] –ö–æ–º–ø–æ–Ω–µ–Ω—Ç `components/fabrics/FabricsFilters.tsx` –¥–ª—è —Ñ–∏–ª—å—Ç—Ä–æ–≤
- [ ] –ö–ª–∏–µ–Ω—Ç—Å–∫–∞—è —Ñ–∏–ª—å—Ç—Ä–∞—Ü–∏—è –∏ —Å–æ—Ä—Ç–∏—Ä–æ–≤–∫–∞ (–≤ –ø–∞–º—è—Ç–∏)
- [ ] –í–∏—Ä—Ç—É–∞–ª–∏–∑–∞—Ü–∏—è –¥–ª—è –±–æ–ª—å—à–∏—Ö —Å–ø–∏—Å–∫–æ–≤ (–µ—Å–ª–∏ –Ω—É–∂–Ω–æ)

#### 3.3 –°—Ç—Ä–∞–Ω–∏—Ü–∞ –ø–æ—Å—Ç–∞–≤—â–∏–∫–æ–≤ (`app/suppliers/page.tsx`)
- [ ] Server Component –¥–ª—è –Ω–∞—á–∞–ª—å–Ω–æ–π –∑–∞–≥—Ä—É–∑–∫–∏
- [ ] –ö–∞—Ä—Ç–æ—á–∫–∏ –ø–æ—Å—Ç–∞–≤—â–∏–∫–æ–≤
- [ ] –ö–æ–º–ø–æ–Ω–µ–Ω—Ç `components/suppliers/SuppliersList.tsx`
- [ ] –ö–Ω–æ–ø–∫–∏ –¥–µ–π—Å—Ç–≤–∏–π (–ø–∞—Ä—Å–∏–Ω–≥, –Ω–∞—Å—Ç—Ä–æ–π–∫–∏)

#### 3.4 –°—Ç—Ä–∞–Ω–∏—Ü–∞ –∫–∞—Ç–µ–≥–æ—Ä–∏–π (`app/categories/page.tsx`)
- [ ] Server Component –¥–ª—è –Ω–∞—á–∞–ª—å–Ω–æ–π –∑–∞–≥—Ä—É–∑–∫–∏
- [ ] –ü—Ä–æ—Å—Ç–∞—è —Ç–∞–±–ª–∏—Ü–∞ –∫–∞—Ç–µ–≥–æ—Ä–∏–π
- [ ] –†–µ–¥–∞–∫—Ç–∏—Ä–æ–≤–∞–Ω–∏–µ –Ω–∞ –º–µ—Å—Ç–µ (inline editing)

---

### –≠—Ç–∞–ø 4: –£–¥–∞–ª–µ–Ω–∏–µ —Å—Ç–∞—Ä–æ–≥–æ –∫–æ–¥–∞ (1 —á–∞—Å)

#### 4.1 –£–¥–∞–ª–∏—Ç—å —Ñ–∞–π–ª—ã
- [ ] `lib/fabrics-context.tsx` - –±–æ–ª—å—à–µ –Ω–µ –Ω—É–∂–µ–Ω
- [ ] `lib/fabrics-storage.ts` - IndexedDB –Ω–µ –Ω—É–∂–µ–Ω
- [ ] `lib/suppliers-storage.ts` - localStorage –Ω–µ –Ω—É–∂–µ–Ω
- [ ] `lib/categories-storage.ts` - localStorage –Ω–µ –Ω—É–∂–µ–Ω
- [ ] `lib/exclusions-storage.ts` - localStorage –Ω–µ –Ω—É–∂–µ–Ω
- [ ] `lib/palette-storage.ts` - localStorage –Ω–µ –Ω—É–∂–µ–Ω
- [ ] `lib/cache.ts` - —Å–µ—Ä–≤–µ—Ä–Ω—ã–π –∫—ç—à –Ω–µ –Ω—É–∂–µ–Ω
- [ ] `components/LoadingProgress.tsx` - –∑–∞–º–µ–Ω–∏–º –Ω–∞ –ø—Ä–æ—Å—Ç–æ–µ —Å–æ—Å—Ç–æ—è–Ω–∏–µ

#### 4.2 –û–±–Ω–æ–≤–∏—Ç—å layout.tsx
- [ ] –£–±—Ä–∞—Ç—å FabricsProvider –∏–∑ layout
- [ ] –û–±–Ω–æ–≤–∏—Ç—å –Ω–∞–≤–∏–≥–∞—Ü–∏—é (–Ω–æ–≤—ã–π –¥–∏–∑–∞–π–Ω)
- [ ] –î–æ–±–∞–≤–∏—Ç—å –∏–∫–æ–Ω–∫–∏ –≤ –º–µ–Ω—é

---

### –≠—Ç–∞–ø 5: –í–∏–∑—É–∞–ª—å–Ω—ã–π –¥–∏–∑–∞–π–Ω (2-3 —á–∞—Å–∞)

#### 5.1 –û–±–Ω–æ–≤–∏—Ç—å —Å—Ç–∏–ª–∏
- [ ] –û–±–Ω–æ–≤–∏—Ç—å `app/globals.css` —Å –Ω–æ–≤—ã–º–∏ —Ü–≤–µ—Ç–∞–º–∏
- [ ] –û–±–Ω–æ–≤–∏—Ç—å —Ç–µ–º—É Tailwind (tailwind.config.ts)
- [ ] –î–æ–±–∞–≤–∏—Ç—å –∫–∞—Å—Ç–æ–º–Ω—ã–µ —Å—Ç–∏–ª–∏ –¥–ª—è —Ç–∞–±–ª–∏—Ü

#### 5.2 –û–±–Ω–æ–≤–∏—Ç—å –∫–æ–º–ø–æ–Ω–µ–Ω—Ç—ã UI
- [ ] –ü—Ä–æ–≤–µ—Ä–∏—Ç—å –≤—Å–µ shadcn/ui –∫–æ–º–ø–æ–Ω–µ–Ω—Ç—ã
- [ ] –û–±–Ω–æ–≤–∏—Ç—å —Å—Ç–∏–ª–∏ –∫–Ω–æ–ø–æ–∫
- [ ] –û–±–Ω–æ–≤–∏—Ç—å —Å—Ç–∏–ª–∏ –∫–∞—Ä—Ç–æ—á–µ–∫
- [ ] –û–±–Ω–æ–≤–∏—Ç—å —Å—Ç–∏–ª–∏ —Ç–∞–±–ª–∏—Ü

#### 5.3 –ê–¥–∞–ø—Ç–∏–≤–Ω–æ—Å—Ç—å
- [ ] –ú–æ–±–∏–ª—å–Ω–∞—è –≤–µ—Ä—Å–∏—è –¥–ª—è –≤—Å–µ—Ö —Å—Ç—Ä–∞–Ω–∏—Ü
- [ ] –¢–∞–±–ª–∏—Ü—ã —Å –≥–æ—Ä–∏–∑–æ–Ω—Ç–∞–ª—å–Ω–æ–π –ø—Ä–æ–∫—Ä—É—Ç–∫–æ–π –Ω–∞ –º–æ–±–∏–ª—å–Ω—ã—Ö
- [ ] –ê–¥–∞–ø—Ç–∏–≤–Ω–æ–µ –º–µ–Ω—é –Ω–∞–≤–∏–≥–∞—Ü–∏–∏

---

### –≠—Ç–∞–ø 6: –¢–µ—Å—Ç–∏—Ä–æ–≤–∞–Ω–∏–µ –∏ –æ–ø—Ç–∏–º–∏–∑–∞—Ü–∏—è (1-2 —á–∞—Å–∞)

#### 6.1 –§—É–Ω–∫—Ü–∏–æ–Ω–∞–ª—å–Ω–æ–µ —Ç–µ—Å—Ç–∏—Ä–æ–≤–∞–Ω–∏–µ
- [ ] –ó–∞–≥—Ä—É–∑–∫–∞ –¥–∞–Ω–Ω—ã—Ö –Ω–∞ –≤—Å–µ—Ö —Å—Ç—Ä–∞–Ω–∏—Ü–∞—Ö
- [ ] –§–∏–ª—å—Ç—Ä–∞—Ü–∏—è –∏ —Å–æ—Ä—Ç–∏—Ä–æ–≤–∫–∞ –Ω–∞ —Å—Ç—Ä–∞–Ω–∏—Ü–µ —Ç–∫–∞–Ω–µ–π
- [ ] –ü–∞—Ä—Å–∏–Ω–≥ –ø–æ—Å—Ç–∞–≤—â–∏–∫–æ–≤ (–ø—Ä–æ–≤–µ—Ä–∏—Ç—å —á—Ç–æ —Ä–∞–±–æ—Ç–∞–µ—Ç)
- [ ] –†–µ–¥–∞–∫—Ç–∏—Ä–æ–≤–∞–Ω–∏–µ –∫–∞—Ç–µ–≥–æ—Ä–∏–π

#### 6.2 –ü—Ä–æ–∏–∑–≤–æ–¥–∏—Ç–µ–ª—å–Ω–æ—Å—Ç—å
- [ ] –ò–∑–º–µ—Ä–∏—Ç—å –≤—Ä–µ–º—è –∑–∞–≥—Ä—É–∑–∫–∏ —Å—Ç—Ä–∞–Ω–∏—Ü
- [ ] –ü—Ä–æ–≤–µ—Ä–∏—Ç—å —Ä–∞–∑–º–µ—Ä bundle
- [ ] –û–ø—Ç–∏–º–∏–∑–∏—Ä–æ–≤–∞—Ç—å –∏–∑–æ–±—Ä–∞–∂–µ–Ω–∏—è (–µ—Å–ª–∏ –µ—Å—Ç—å)
- [ ] –ü—Ä–æ–≤–µ—Ä–∏—Ç—å –∏—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏–µ –ø–∞–º—è—Ç–∏

#### 6.3 –û—à–∏–±–∫–∏
- [ ] –û–±—Ä–∞–±–æ—Ç–∫–∞ –æ—à–∏–±–æ–∫ –ë–î
- [ ] –û–±—Ä–∞–±–æ—Ç–∫–∞ –æ—à–∏–±–æ–∫ —Å–µ—Ç–∏
- [ ] –°–æ–æ–±—â–µ–Ω–∏—è –æ–± –æ—à–∏–±–∫–∞—Ö –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—é

---

## üîß –¢–µ—Ö–Ω–∏—á–µ—Å–∫–∏–µ –¥–µ—Ç–∞–ª–∏

### Server Components –ø—Ä–∏–º–µ—Ä

```tsx
// app/fabrics/page.tsx
import { prisma } from '@/lib/db/prisma'
import { FabricsTable } from '@/components/fabrics/FabricsTable'

export default async function FabricsPage() {
  const fabrics = await prisma.fabric.findMany({
    where: { excludedFromParsing: false },
    include: { supplier: true },
    orderBy: [
      { supplier: { name: 'asc' } },
      { collection: 'asc' },
      { colorNumber: 'asc' },
    ],
  })

  return (
    <div className="container mx-auto p-6">
      <h1 className="text-3xl font-bold mb-6">–¢–∫–∞–Ω–∏</h1>
      <FabricsTable initialFabrics={fabrics} />
    </div>
  )
}
```

### Client Component –ø—Ä–∏–º–µ—Ä

```tsx
// components/fabrics/FabricsTable.tsx
'use client'

import { useState, useMemo } from 'react'

export function FabricsTable({ initialFabrics }: { initialFabrics: Fabric[] }) {
  const [fabrics] = useState(initialFabrics)
  const [filters, setFilters] = useState({})
  
  const filtered = useMemo(() => {
    // –§–∏–ª—å—Ç—Ä–∞—Ü–∏—è –≤ –ø–∞–º—è—Ç–∏
  }, [fabrics, filters])

  return (
    // –¢–∞–±–ª–∏—Ü–∞
  )
}
```

---

## ‚úÖ –ö—Ä–∏—Ç–µ—Ä–∏–∏ —É—Å–ø–µ—Ö–∞

1. **–°–∫–æ—Ä–æ—Å—Ç—å**
   - –°—Ç—Ä–∞–Ω–∏—Ü—ã –∑–∞–≥—Ä—É–∂–∞—é—Ç—Å—è < 1 —Å–µ–∫—É–Ω–¥—ã
   - –ù–µ—Ç –±–µ—Å–∫–æ–Ω–µ—á–Ω—ã—Ö –∑–∞–≥—Ä—É–∑–æ–∫
   - –ú–≥–Ω–æ–≤–µ–Ω–Ω–∞—è —Ä–µ–∞–∫—Ü–∏—è –Ω–∞ –¥–µ–π—Å—Ç–≤–∏—è

2. **–ù–∞–¥–µ–∂–Ω–æ—Å—Ç—å**
   - –ù–µ—Ç –∑–∞–≤–∏—Å–∞–Ω–∏–π
   - –ö–æ—Ä—Ä–µ–∫—Ç–Ω–∞—è –æ–±—Ä–∞–±–æ—Ç–∫–∞ –æ—à–∏–±–æ–∫
   - –°—Ç–∞–±–∏–ª—å–Ω–∞—è —Ä–∞–±–æ—Ç–∞ –ë–î

3. **–ü—Ä–æ—Å—Ç–æ—Ç–∞**
   - –ü–æ–Ω—è—Ç–Ω–∞—è –∞—Ä—Ö–∏—Ç–µ–∫—Ç—É—Ä–∞
   - –õ–µ–≥–∫–æ –¥–æ–±–∞–≤–ª—è—Ç—å –Ω–æ–≤—ã–µ —Ñ—É–Ω–∫—Ü–∏–∏
   - –ú–∏–Ω–∏–º—É–º –∫–æ–¥–∞

4. **–î–∏–∑–∞–π–Ω**
   - –°–æ–≤—Ä–µ–º–µ–Ω–Ω—ã–π –≤–Ω–µ—à–Ω–∏–π –≤–∏–¥
   - –ò–Ω—Ç—É–∏—Ç–∏–≤–Ω—ã–π –∏–Ω—Ç–µ—Ä—Ñ–µ–π—Å
   - –ê–¥–∞–ø—Ç–∏–≤–Ω–æ—Å—Ç—å

---

## üì¶ –°—Ç—Ä—É–∫—Ç—É—Ä–∞ —Ñ–∞–π–ª–æ–≤ (–ø–æ—Å–ª–µ —Ä–µ–¥–∏–∑–∞–π–Ω–∞)

```
app/
‚îú‚îÄ‚îÄ layout.tsx
‚îú‚îÄ‚îÄ page.tsx
‚îú‚îÄ‚îÄ fabrics/
‚îÇ   ‚îî‚îÄ‚îÄ page.tsx
‚îú‚îÄ‚îÄ suppliers/
‚îÇ   ‚îî‚îÄ‚îÄ page.tsx
‚îú‚îÄ‚îÄ categories/
‚îÇ   ‚îî‚îÄ‚îÄ page.tsx
‚îî‚îÄ‚îÄ api/
    ‚îú‚îÄ‚îÄ fabrics/
    ‚îÇ   ‚îî‚îÄ‚îÄ route.ts
    ‚îú‚îÄ‚îÄ suppliers/
    ‚îÇ   ‚îú‚îÄ‚îÄ route.ts
    ‚îÇ   ‚îî‚îÄ‚îÄ [id]/
    ‚îÇ       ‚îú‚îÄ‚îÄ parse/
    ‚îÇ       ‚îÇ   ‚îî‚îÄ‚îÄ route.ts
    ‚îÇ       ‚îî‚îÄ‚îÄ rules/
    ‚îÇ           ‚îî‚îÄ‚îÄ route.ts
    ‚îî‚îÄ‚îÄ categories/
        ‚îî‚îÄ‚îÄ route.ts

components/
‚îú‚îÄ‚îÄ ui/                    (shadcn/ui)
‚îú‚îÄ‚îÄ fabrics/
‚îÇ   ‚îú‚îÄ‚îÄ FabricsTable.tsx
‚îÇ   ‚îî‚îÄ‚îÄ FabricsFilters.tsx
‚îî‚îÄ‚îÄ suppliers/
    ‚îî‚îÄ‚îÄ SuppliersList.tsx

lib/
‚îú‚îÄ‚îÄ db/
‚îÇ   ‚îî‚îÄ‚îÄ prisma.ts          (–Ω–æ–≤—ã–π, —É–ø—Ä–æ—â–µ–Ω–Ω—ã–π)
‚îú‚îÄ‚îÄ parsers/               (—Å–æ—Ö—Ä–∞–Ω—è–µ–º –≤—Å–µ)
‚îÇ   ‚îú‚îÄ‚îÄ base-parser.ts
‚îÇ   ‚îî‚îÄ‚îÄ ...
‚îî‚îÄ‚îÄ fabric-categories.ts   (—Å–æ—Ö—Ä–∞–Ω—è–µ–º)
```

---

## üöÄ –ü–æ—Ä—è–¥–æ–∫ –≤—ã–ø–æ–ª–Ω–µ–Ω–∏—è

1. **–ë–∞–∑–∞ –¥–∞–Ω–Ω—ã—Ö** ‚Üí –ü—Ä–æ—Å—Ç–∞—è –∏–Ω–∏—Ü–∏–∞–ª–∏–∑–∞—Ü–∏—è Prisma
2. **API Endpoints** ‚Üí –£–ø—Ä–æ—â–µ–Ω–Ω—ã–µ routes
3. **Server Components** ‚Üí –°—Ç—Ä–∞–Ω–∏—Ü—ã —Å –ø—Ä—è–º–æ–π –∑–∞–≥—Ä—É–∑–∫–æ–π
4. **Client Components** ‚Üí –ò–Ω—Ç–µ—Ä–∞–∫—Ç–∏–≤–Ω—ã–µ –∫–æ–º–ø–æ–Ω–µ–Ω—Ç—ã
5. **–£–¥–∞–ª–µ–Ω–∏–µ —Å—Ç–∞—Ä–æ–≥–æ –∫–æ–¥–∞** ‚Üí –û—á–∏—Å—Ç–∫–∞
6. **–î–∏–∑–∞–π–Ω** ‚Üí –û–±–Ω–æ–≤–ª–µ–Ω–∏–µ —Å—Ç–∏–ª–µ–π
7. **–¢–µ—Å—Ç–∏—Ä–æ–≤–∞–Ω–∏–µ** ‚Üí –ü—Ä–æ–≤–µ—Ä–∫–∞ —Ä–∞–±–æ—Ç—ã

---

## ‚ö†Ô∏è –í–∞–∂–Ω—ã–µ –º–æ–º–µ–Ω—Ç—ã

1. **–ù–ï —Ç—Ä–æ–≥–∞–µ–º –ø–∞—Ä—Å–µ—Ä—ã** - –æ–Ω–∏ —Ä–∞–±–æ—Ç–∞—é—Ç, –æ—Å—Ç–∞–≤–ª—è–µ–º –∫–∞–∫ –µ—Å—Ç—å
2. **–°–æ—Ö—Ä–∞–Ω—è–µ–º —Å—Ç—Ä—É–∫—Ç—É—Ä—É –ë–î** - –º–æ–¥–µ–ª–∏ –Ω–µ –º–µ–Ω—è–µ–º
3. **–ü–æ—Å—Ç–µ–ø–µ–Ω–Ω–∞—è –º–∏–≥—Ä–∞—Ü–∏—è** - –º–æ–∂–Ω–æ –¥–µ–ª–∞—Ç—å –ø–æ —ç—Ç–∞–ø–∞–º
4. **–†–µ–∑–µ—Ä–≤–Ω—ã–µ –∫–æ–ø–∏–∏** - –ø–µ—Ä–µ–¥ –Ω–∞—á–∞–ª–æ–º —Ä–∞–±–æ—Ç—ã

