# Инструкции по обновлению проекта на GitHub

## Подготовка к обновлению

### 1. Проверка изменений

Откройте командную строку (cmd.exe) или PowerShell и выполните:

```bash
cd E:\Программы\cursor\repositary\lavsit-textile
git status
```

Проверьте список измененных файлов.

### 2. Проверка базы данных

Убедитесь, что миграции применены:

```bash
npm run db:generate
npm run db:push
```

### 3. Проверка сборки

Проверьте, что проект собирается без ошибок:

```bash
npm run build
```

Если есть ошибки, исправьте их перед коммитом.

## Коммит изменений

### 1. Добавление файлов

```bash
git add .
```

Или выборочно:

```bash
git add docs/
git add prisma/schema.prisma
git add README.md
git add lib/parsers/ametist-parser.ts
git add app/api/fabrics/route.ts
```

### 2. Создание коммита

```bash
git commit -m "Реорганизация проекта v2.0

- Добавлена полная документация (USER_GUIDE, PROJECT_STRUCTURE, PERFORMANCE_ANALYSIS, PARSING_RULES)
- Добавлены составные индексы в БД для оптимизации запросов
- Исправлен парсер Аметист (метраж из колонки G)
- Улучшена обработка ошибок в API endpoints
- Обновлен README.md с ссылками на документацию
- Создан CHANGELOG.md"
```

### 3. Отправка на GitHub

```bash
git push origin main
```

Если используется другая ветка:

```bash
git push origin <branch-name>
```

## Проверка на GitHub

После отправки проверьте на GitHub:

1. Все файлы загружены
2. README.md обновлен
3. Документация доступна в папке `docs/`
4. Коммит создан с правильным сообщением

## Откат изменений (если нужно)

Если что-то пошло не так:

```bash
# Отменить последний коммит (но сохранить изменения)
git reset --soft HEAD~1

# Или полностью отменить изменения
git reset --hard HEAD~1
```

## Важные файлы для коммита

### Обязательно коммитить:

- `docs/` — вся документация
- `prisma/schema.prisma` — обновленная схема с индексами
- `README.md` — обновленный README
- `lib/parsers/ametist-parser.ts` — исправленный парсер
- `app/api/fabrics/route.ts` — улучшенная обработка ошибок
- `CHANGELOG.md` — история изменений

### НЕ коммитить (в .gitignore):

- `prisma/dev.db` — база данных
- `data/` — данные и файлы
- `node_modules/` — зависимости
- `.next/` — сборка Next.js
- `.env` — переменные окружения

## Проверка после обновления

После обновления на GitHub:

1. Проверьте, что репозиторий обновлен
2. Проверьте, что документация доступна
3. Проверьте, что README.md отображается корректно
4. При необходимости обновите описание репозитория на GitHub

## Контакты

При возникновении проблем:
1. Проверьте логи git
2. Проверьте статус репозитория
3. Убедитесь, что у вас есть права на запись в репозиторий


